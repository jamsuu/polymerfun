<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-icon-button/core-icon-button.html">

<polymer-element name="doge-post">
	<template>
		<style>
			:host {
				background: #fff;
				width: 100%;
				position: relative;
				padding: 20px;
				display: block;
				box-sizing: border-box;
			}
			.post .avatar {
				width: 70px;
				height: 70px;
				border-radius: 50%;
				margin-right: 20px;
				display: block;
				overflow: hidden;
			}
			.post .avatar ::content img {
				height: 70px;
				width: auto;
			}
			.post ::content h2 {
				font-size: 1.8em;
				font-weight: 300;
			}
			.content {
				text-align: left;
				margin-top: 10px;
			}
			core-icon-button {
				position: absolute;
				top: 3px;
				right: 3px;
				color: #636363;
			}
			:host([favorite]) core-icon-button {
			  	color: #da4336;
			}
		</style>
		<div class="post" layout horizontal center>
			<div class="avatar">
				<content select="img"></content>
			</div>
			<content select="h2"></content>
		</div>
		<div class="content">
			<content></content>
		</div>
		<core-icon-button
		  	id="favicon"
		  	icon="save"
		  	on-tap="{{favoriteTapped}}">
			</core-icon-button>
	</template>
	<script>
		Polymer({
			publish: {
			    favorite: {
			      	value: false,
			      	reflect: true
			    }
			},
			favoriteTapped: function(event, detail, sender) {
			    this.favorite = !this.favorite;
			    this.fire('favorite-tap');
			}
		});
	</script>
</polymer-element>